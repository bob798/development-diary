# limit优化

limit配置offset是大家常用的方式，但此方式效率较低。

例如：limit 1000 ,20

mysql先查询出1020条数据，然后抛弃掉前1000条数据，查询代价非常高。

只查询出所需数据效率最高，故开始优化sql。

- 索引覆盖扫描
- 边界值计算查询

## 索引覆盖扫描

### sql编写

- 查询符合条件的索引
- 再根据索引查询其他数据

### 例

百万数据量，

**普通查询对比索引覆盖**查询

数据在1万，无明显差别

limit 100000,10;查询10万级数据，索引覆盖方式明显变快。



## 边界值计算查询

根据待查询数据的起始位置检索数据





## 其他关键概念

- 聚簇索引
- 普通索引
- 回表操作



## 参考

回表说明

https://www.cnblogs.com/myseries/p/11265849.html

一个索引不包含所有要查询的字段，就这需要通过主键访问聚簇索引，查询所需字段。再次通过主键访问聚簇索引的过程称为回表。